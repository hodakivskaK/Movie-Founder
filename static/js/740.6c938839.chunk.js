(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[740],{633:function(e,t,n){"use strict";n.d(t,{LZ:function(){return h},cd:function(){return g},eK:function(){return v},kK:function(){return m},l2:function(){return d}});var r=n(861),a=n(757),c=n.n(a),u=n(243),o="c93a6a4d3a553d1e7ad5324e4c95943f";u.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="/trending/movie/week",i="/search/movie",l="/movie",f="/credits",p="/reviews",h=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,u.Z.get("".concat(s,"?api_key=").concat(o,"&page=").concat(t,"&language=en-US&include_adult=false"));case 3:return n=e.sent,e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,u.Z.get("".concat(i,"?api_key=").concat(o,"&page=").concat(n,"&query=").concat(t,"&language=en-US&include_adult=false"));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("".concat(l,"/").concat(t,"?api_key=").concat(o,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t).concat(f,"?api_key=").concat(o,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t).concat(p,"?api_key=").concat(o,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},740:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(439),a=n(791),c=n(87),u=n(689),o=n(971),s=n.n(o),i=n(184),l=function(e){var t=e.onSubmit,n=(0,a.useState)(""),c=(0,r.Z)(n,2),u=c[0],o=c[1];return(0,i.jsxs)("form",{className:s().SearchForm,onSubmit:function(e){if(e.preventDefault(),""===u.trim())return console.log("Field is empty");t(u),o(""),e.currentTarget.reset()},children:[(0,i.jsx)("input",{className:s().SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){o(e.currentTarget.value.toLowerCase())}}),(0,i.jsx)("button",{type:"submit",className:s().SearchFormButton,children:(0,i.jsx)("span",{className:"button-label",children:"Search"})})]})},f=n(633),p="MovieSearchList_moviesSearchList__rZ0ce",h="MovieSearchList_moviesSearchItem__sqJWz",v="MovieSearchList_moviesSearchLink__ZMLuC",d=function(e){var t=e.movies;e.prevLocation;return(0,i.jsx)("ul",{className:p,children:t.map((function(e){return(0,i.jsx)("li",{className:h,children:(0,i.jsx)(c.rU,{to:"/movies/".concat(e.id),className:v,children:e.title})},e.id)}))})};function m(){var e=(0,c.lr)(),t=(0,r.Z)(e,2),n=t[0],o=t[1],s=(0,a.useState)([]),p=(0,r.Z)(s,2),h=p[0],v=p[1],m=(0,a.useState)(""),g=(0,r.Z)(m,2),S=g[0],x=g[1],_=(0,a.useState)(!1),k=(0,r.Z)(_,2),Z=k[0],y=k[1],w=(0,u.TH)(),b=n.get("query");(0,a.useEffect)((function(){if(b){y(!0),(0,f.eK)(b).then((function(e){e.length||alert("No movies found!"),v(e)})).catch((function(e){x("Sorry, nothing"),console.log(e)})).finally(y(!1))}}),[b]);return(0,i.jsxs)("div",{children:[Z&&(0,i.jsx)("h1",{children:"Loading"}),S&&(0,i.jsx)("div",{children:S}),(0,i.jsx)(l,{onSubmit:function(e){o({query:"".concat(e)}),console.log(e)}}),h&&(0,i.jsx)(d,{movies:h,prevLocation:w})]})}},971:function(){}}]);
//# sourceMappingURL=740.6c938839.chunk.js.map