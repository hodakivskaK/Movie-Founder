"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[307],{633:function(e,t,n){n.d(t,{LZ:function(){return h},cd:function(){return g},eK:function(){return m},kK:function(){return v},l2:function(){return d}});var r=n(861),a=n(757),c=n.n(a),o=n(243),u="c93a6a4d3a553d1e7ad5324e4c95943f";o.Z.defaults.baseURL="https://api.themoviedb.org/3";var s="/trending/movie/week",i="/search/movie",l="/movie",f="/credits",p="/reviews",h=function(){var e=(0,r.Z)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,o.Z.get("".concat(s,"?api_key=").concat(u,"&page=").concat(t,"&language=en-US&include_adult=false"));case 3:return n=e.sent,e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:1,e.next=3,o.Z.get("".concat(i,"?api_key=").concat(u,"&page=").concat(n,"&query=").concat(t,"&language=en-US&include_adult=false"));case 3:return r=e.sent,e.abrupt("return",r.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(l,"/").concat(t,"?api_key=").concat(u,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/movie/".concat(t).concat(f,"?api_key=").concat(u,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/movie/".concat(t).concat(p,"?api_key=").concat(u,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},307:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(439),a=n(791),c=n(87),o=n(689),u={searchFormInput:"SearchForm_searchFormInput__TH5yR",SearchFormButton:"SearchForm_SearchFormButton__KOnjQ"},s=n(184),i=function(e){var t=e.onSubmit,n=(0,a.useState)(""),c=(0,r.Z)(n,2),o=c[0],i=c[1];return(0,s.jsxs)("div",{className:u.d,children:[(0,s.jsx)("h1",{children:" Find a movie by a title "}),(0,s.jsxs)("form",{className:u.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return console.log("Field is empty");t(o),i(""),e.currentTarget.reset()},children:[(0,s.jsx)("input",{className:u.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){i(e.currentTarget.value.toLowerCase())}}),(0,s.jsx)("button",{type:"submit",className:u.SearchFormButton,children:(0,s.jsx)("span",{className:u.SearchFormButtonLabel,children:"Search"})})]})]})},l=n(633),f="MovieSearchList_moviesSearchList__fR3Aa",p="MovieSearchList_moviesSearchItem__V-MiM",h="MovieSearchList_moviesSearchLink__bo3k0",m=function(e){var t=e.movies;e.prevLocation;return(0,s.jsx)("ul",{className:f,children:t.map((function(e){return(0,s.jsx)("li",{className:p,children:(0,s.jsx)(c.rU,{to:"/movies/".concat(e.id),className:h,children:e.title})},e.id)}))})};function d(){var e=(0,c.lr)(),t=(0,r.Z)(e,2),n=t[0],u=t[1],f=(0,a.useState)([]),p=(0,r.Z)(f,2),h=p[0],d=p[1],v=(0,a.useState)(""),g=(0,r.Z)(v,2),S=g[0],_=g[1],x=(0,a.useState)(!1),k=(0,r.Z)(x,2),y=k[0],b=k[1],w=(0,o.TH)(),Z=n.get("query");(0,a.useEffect)((function(){if(Z){b(!0),(0,l.eK)(Z).then((function(e){e.length||alert("No movies found!"),d(e)})).catch((function(e){_("Sorry, nothing"),console.log(e)})).finally(b(!1))}}),[Z]);return(0,s.jsxs)("div",{children:[y&&(0,s.jsx)("h1",{children:"Loading"}),S&&(0,s.jsx)("div",{children:S}),(0,s.jsx)(i,{onSubmit:function(e){u({query:"".concat(e)}),console.log(e)}}),h&&(0,s.jsx)(m,{movies:h,prevLocation:w})]})}}}]);
//# sourceMappingURL=307.3028bf0a.chunk.js.map