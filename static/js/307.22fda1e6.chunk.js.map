{"version":3,"file":"static/js/307.22fda1e6.chunk.js","mappings":"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","sources":["FetchAPI.jsx","webpack://react-homework-template/./src/components/Search Form/SearchForm.module.css?5adb","components/Search Form/SearchForm.jsx","webpack://react-homework-template/./src/components/MovieSearchList/MovieSearchList.module.css?9ee4","components/MovieSearchList/MovieSearchList.jsx","page/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'c93a6a4d3a553d1e7ad5324e4c95943f';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst POINTS = {\n  trending: '/trending/movie/week',\n  querySearch: '/search/movie',\n  movieDetails: '/movie',\n  movieCast: '/credits',\n  movieReviews: '/reviews',\n};\n\n\n// Home trending \nexport const getFetchTrending = async (page = 1) => {\n     const url = await axios.get(\n    `${POINTS.trending}?api_key=${API_KEY}&page=${page}&language=en-US&include_adult=false`\n  );\n  return url.data.results;\n};\n\n// Search Movie\nexport const getFetchByQuery = async (query, page = 1) => {\n  const url = await axios.get(\n    `${POINTS.querySearch}?api_key=${API_KEY}&page=${page}&query=${query}&language=en-US&include_adult=false`\n  );\n\n  return url.data.results;\n};\n\n// Movie Id\nexport const fetchMoviesDetails = async id => {\n     const url = await axios.get(\n    `${POINTS.movieDetails}/${id}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return url.data;\n};\n\n// Cast \nexport const fetchMoviesCast = async id => {\n  const url = await axios.get(\n    `/movie/${id}${POINTS.movieCast}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return url.data.cast;\n};\n\n// Review\n\nexport const fetchMoviesReview = async id => {\n  const url = await axios.get(\n    `/movie/${id}${POINTS.movieReviews}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return url.data.results;\n};","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"SearchForm_searchForm__7M8nt\",\"searchForm__input\":\"SearchForm_searchForm__input__544XX\",\"SearchForm__button\":\"SearchForm_SearchForm__button__xcWfA\"};","import PropTypes from 'prop-types';\nimport { useState } from 'react'\nimport s from './SearchForm.module.css'\n\nexport const SearchForm = ({onSubmit}) => {\n    const [movieSearch, setMovieSearch] = useState(\"\");\n    \n    const handleSubmit = (e) => {\n          e.preventDefault();\n\n        if (movieSearch.trim() === '') {\n            return console.log(\"Field is empty\")\n        }\n        \n        onSubmit(movieSearch);\n        setMovieSearch(\"\");\n        e.currentTarget.reset();\n    }\n\n    const handleInput = (e) => {\n          setMovieSearch(e.currentTarget.value.toLowerCase())\n    }\n\n    return (\n        <div className={s.d}>\n        <h1> Find a movie by a title </h1>\n        <form className={s.searchForm} onSubmit={handleSubmit}>\n    <input\n      className={s.searchForm__input}\n      type=\"text\"\n      autoComplete=\"off\"\n      autoFocus\n    placeholder=\"Search movies\"\n    onChange={handleInput}\n            />\n            \n            <button type=\"submit\" className={s.SearchForm__button}>\n                <span className={s.SearchForm__buttonLabel}>\n        Search\n                </span> \n    </button>\n        </form>\n        </div>\n    )\n}\n\n\nSearchForm.propTypes = {\n    onSubmit: PropTypes.func\n};","// extracted by mini-css-extract-plugin\nexport default {\"moviesSearch__list\":\"MovieSearchList_moviesSearch__list__4fPpU\",\"moviesSearch__item\":\"MovieSearchList_moviesSearch__item__n+FzM\",\"moviesSearch__link\":\"MovieSearchList_moviesSearch__link__hgRO3\",\"moviesSearch__img\":\"MovieSearchList_moviesSearch__img__dOQqa\",\"moviesSearch__poster\":\"MovieSearchList_moviesSearch__poster__mWhwy\",\"moviesSearch__descr\":\"MovieSearchList_moviesSearch__descr__q1Owk\",\"moviesSearch__title\":\"MovieSearchList_moviesSearch__title__LmyJZ\"};","\nimport s from './MovieSearchList.module.css'\nimport { Link } from 'react-router-dom';\nimport movieImage from '../../Image/POSTER_not_found.jpg';\n\nexport const MovieList = ({ movies }) => {\n    \n\n    return <ul className={s.moviesSearch__list }>\n        {movies.map(movie => {\n        const releaseDate= movie.release_date.split('-')\n        const result = releaseDate[0];\n        \n        return <li key={movie.id} className={s.moviesSearch__item}>\n <Link to={`/movies/${movie.id}`} className={ s.moviesSearch__link }>\n    <div className={ s.moviesSearch__descr }> \n    <p className={ s.moviesSearch__title }>{movie.title} </p> \n    <p > Year: {result}</p>\n    <p> Rating: {movie.vote_average}</p>\n   \n    </div>\n    {movie.poster_path === null? \n              <img\n                src={movieImage}\n                alt={`poster`}\n               className={s.moviesSearch__poster}\n              /> : \n              <img src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`} alt=\"poster\" className={s.moviesSearch__img } />\n              }\n   \n </Link>\n                \n        </li>})}\n        \n    </ul>\n}\n","import { useState, useEffect } from \"react\"\nimport { useSearchParams, useLocation  } from 'react-router-dom';\nimport { SearchForm } from \"../components/Search Form/SearchForm\"\nimport {getFetchByQuery} from \"FetchAPI\";\nimport { MovieList } from \"../components/MovieSearchList/MovieSearchList\";\n\nexport default function Movies () {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [movieSearch, setMovieSearch] = useState([]);\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const location = useLocation();\n    const searchRequest = searchParams.get('query');\n\n      useEffect(() => {\n    if (!searchRequest) {\n      return;\n          }\n          \n    const fetchMovie = () => {\n      setLoading(true);\n      getFetchByQuery(searchRequest)\n        .then(results => {\n          if (!results.length) {\n            alert('No movies found!');\n          }\n\n          setMovieSearch(results);\n        })\n        .catch(error => {\n          setError('Sorry, nothing');\n          console.log(error);\n        })\n        .finally(setLoading(false));\n          };\n          \n    fetchMovie();\n      }, [searchRequest]);\n    \n    const handleSubmit = (name) => {\n        setSearchParams({ query: `${name}` });\n        console.log(name)\n    }\n\n\n    return <div>\n        {loading && <h1>Loading</h1> }\n        {error && <div>{error}</div>}\n        <SearchForm onSubmit={handleSubmit } />\n        {movieSearch && <MovieList movies={movieSearch} prevLocation={location} />}\n        \n    </div>\n\n}\n\n"],"names":["API_KEY","axios","POINTS","getFetchTrending","page","url","data","results","getFetchByQuery","query","fetchMoviesDetails","id","fetchMoviesCast","cast","fetchMoviesReview","SearchForm","onSubmit","useState","movieSearch","setMovieSearch","className","s","e","preventDefault","trim","console","log","currentTarget","reset","type","autoComplete","autoFocus","placeholder","onChange","value","toLowerCase","MovieList","movies","map","movie","result","release_date","split","to","title","vote_average","poster_path","src","movieImage","alt","Movies","useSearchParams","searchParams","setSearchParams","error","setError","loading","setLoading","location","useLocation","searchRequest","get","useEffect","then","length","alert","catch","finally","name","prevLocation"],"sourceRoot":""}